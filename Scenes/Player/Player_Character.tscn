[gd_scene load_steps=11 format=3 uid="uid://dnro33t2n4koo"]

[ext_resource type="Script" uid="uid://darjw4v4t46w5" path="res://Scenes/Player/player_character_CONTROLLER.gd" id="1_relvh"]
[ext_resource type="Texture2D" uid="uid://dsdr2oqwcdjcu" path="res://Assets 2D/E_Key.png" id="2_8j6iy"]
[ext_resource type="Script" uid="uid://c6dulvuuwixsg" path="res://Scenes/Player/Player_Inventory_UI.gd" id="3_0ady0"]
[ext_resource type="Script" uid="uid://b8bg6ypu3lidg" path="res://Scenes/Player/in_game_menu.gd" id="3_t54iw"]
[ext_resource type="AudioStream" uid="uid://dhu8pvdmemj40" path="res://Sounds/SFX/Player/Footstep.mp3" id="3_uf3k5"]
[ext_resource type="Texture2D" uid="uid://d3gl7hq5bxbra" path="res://Assets 3D/Soul Cake/Icon Souls Cake.png" id="3_v20yi"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_2m4ky"]
radius = 0.25
height = 1.8

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_relvh"]
radius = 0.3071289
height = 1.8231446

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_relvh"]
length = 0.15

[sub_resource type="VideoStreamTheora" id="VideoStreamTheora_0ady0"]
file = "res://Scenes/Player/JumpScare2.ogv"

[node name="CharacterBodyRoot" type="CharacterBody3D"]
collision_layer = 3
collision_mask = 3
script = ExtResource("1_relvh")
Player_Foot_Steps_Tick = 0.6

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5677311, -0.23908958)
fov = 60.0
far = 150.0

[node name="Interactable RayCast" type="RayCast3D" parent="Camera3D"]
target_position = Vector3(0, 0, -0.35)
collision_mask = 256
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false
debug_shape_custom_color = Color(0.8707596, 0, 0.2846494, 1)
debug_shape_thickness = 1

[node name="Debug Mesh" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.89771366, 0)
visible = false
mesh = SubResource("CapsuleMesh_2m4ky")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.91140133, 0)
shape = SubResource("CapsuleShape3D_relvh")

[node name="Front_Stairs_Coll" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.3113416e-07, -1, 0, 1, 1.3113416e-07, 0, 0.15828392, -0.27322108)
shape = SubResource("SeparationRayShape3D_relvh")

[node name="Back_Stairs_Coll" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.3113416e-07, -1, 0, 1, 1.3113416e-07, 0, 0.15828392, 0.2752448)
shape = SubResource("SeparationRayShape3D_relvh")

[node name="Left_Stairs_Coll" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.3113416e-07, -1, 0, 1, 1.3113416e-07, 0.269684, 0.15544397, -0.0006606579)
shape = SubResource("SeparationRayShape3D_relvh")

[node name="Right_Side_Coll" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.3113416e-07, -1, 0, 1, 1.3113416e-07, -0.27402094, 0.15373999, -0.0006606579)
shape = SubResource("SeparationRayShape3D_relvh")

[node name="Player UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Interactable_Keyboard_Hint" type="TextureRect" parent="Player UI"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -355.0
offset_top = -98.0
offset_right = -315.0
offset_bottom = -58.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("2_8j6iy")
expand_mode = 3
stretch_mode = 5

[node name="Interact Text" type="Label" parent="Player UI/Interactable_Keyboard_Hint"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 14.0
offset_top = -13.0
offset_right = 278.0
offset_bottom = 51.0
grow_horizontal = 0
theme_override_font_sizes/font_size = 28
text = "Interact"
vertical_alignment = 1

[node name="In_Game_Menu" type="VBoxContainer" parent="Player UI"]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.3330417
anchor_top = 0.22914818
anchor_right = 0.6669584
anchor_bottom = 0.7708519
offset_left = 0.5599365
offset_top = 0.5199585
offset_right = -0.55999756
offset_bottom = -0.52008057
grow_horizontal = 2
grow_vertical = 2
alignment = 1
script = ExtResource("3_t54iw")
metadata/_edit_use_anchors_ = true

[node name="Continue_Button" type="Button" parent="Player UI/In_Game_Menu"]
layout_mode = 2
text = "Continue"

[node name="Quit_Button" type="Button" parent="Player UI/In_Game_Menu"]
layout_mode = 2
text = "Quit"

[node name="FPS Text" type="Label" parent="Player UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -97.0
offset_right = 106.0
offset_bottom = 63.0
grow_horizontal = 0
theme_override_colors/font_color = Color(0.6103734, 0.46053636, 0.028370382, 1)
theme_override_font_sizes/font_size = 45
text = "FPS: 9999"
vertical_alignment = 1

[node name="Player Inventory UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("3_0ady0")

[node name="Inventory_Image" type="TextureRect" parent="Player Inventory UI"]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -287.5
offset_top = -342.0
offset_right = 287.5
offset_bottom = 233.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("3_v20yi")
expand_mode = 2
stretch_mode = 5

[node name="Inventory Text" type="Label" parent="Player Inventory UI/Inventory_Image"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -284.0
offset_top = -105.0
offset_right = 284.0
offset_bottom = 5.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 80
text = "-1 Soul Cake"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Jumpscare" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Jumpscare"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
mouse_filter = 2
stream = SubResource("VideoStreamTheora_0ady0")
speed_scale = 2.0

[node name="Player Footsteps" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.313843)
stream = ExtResource("3_uf3k5")
volume_db = -35.0
pitch_scale = 1.27

[connection signal="pressed" from="Player UI/In_Game_Menu/Continue_Button" to="Player UI/In_Game_Menu" method="_on_Continue_Button_pressed"]
[connection signal="pressed" from="Player UI/In_Game_Menu/Quit_Button" to="Player UI/In_Game_Menu" method="_on_Quit_Button_Pressed"]
